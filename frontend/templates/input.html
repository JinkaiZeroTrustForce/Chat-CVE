<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat-CVE</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="../static/input.css" rel="stylesheet">
</head>
<body>
  <div class="  chat-wrapper">
<div class="chat-container">
  <div class="chat-messages" id="chat-messages">
    <div class="message"><p>LEVEL:{{level}}</p></div>
    <div class="message"><p>{{ question }}</p></div>
  </div>
</div>
  {% if show_answer and answer %}
    <div class="submitted-messege">
      <p>あなたの回答:</p>
      <p>{{ request.form.get('where', '') }}</p>
      <p>{{ request.form.get('why', '') }}</p>
    </div>
      <!--いじるとしたらここ-->
      <div class="answer">
        <p>模範解答: {{ answer }}</p>
        <p>解説: {{ explanation }}</p>
      </div>
      <!--  次の問題へのUIをどうにかする -->
      <form method="get" action="{{ url_for('next_question') }}">
        <button type="submit" class="btn btn-success">次の問題へ</button>
      </form>
  </div>
  {% endif %}
{% if not show_answer %}
  <div class="input-area">
    <form class="row g-3"  action="/input" method="post"  id="myForm">
      <input type="text" name="where" class="form-control" id="exampleFormControlInput1" placeholder="どこのコードが脆弱性を持っているか">
      <input type="text" name="why" class="form-control" id="exampleFormControlInput2" placeholder="どのような脆弱性か">
      <input type="hidden" name="level" value="{{ level }}">
      <input type="hidden" name="question" value="{{ question }}">
      <div class-"button-area">
        <button type="submit" class="btn btn-primary mb-3">送信</button>
      </div>
    </form>
  </div>
{% endif %}
</body>
</html>